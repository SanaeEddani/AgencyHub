generator client {
  provider = "prisma-client-js"
   previewFeatures = ["driverAdapters"]
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
   
}

model Agency {
  id         String    @id
  name       String
  state      String?
  state_code String?
  type       String?
  population Int?
  website    String?
  country    String?
  created_at DateTime  @default(now())
  updated_at DateTime
  Contact    Contact[]

  @@map("agency") // <-- mappe le modèle Prisma à la table PostgreSQL en minuscules
}

model Contact {
  id               String   @id
  first_name       String?
  last_name        String?
  email            String?
  phone            String?
  title            String?
  email_type       String?
  contact_form_url String?
  created_at       DateTime @default(now())
  updated_at       DateTime
  agency_id        String?
  department       String?
  Agency           Agency?  @relation(fields: [agency_id], references: [id])

  @@map("contact") // <-- mappe le modèle Prisma à la table PostgreSQL en minuscules
}

model UserDailyCount {
  id     Int      @id @default(autoincrement())
  userId String   @map("userid") 
  date   DateTime
  count  Int

  @@unique([userId, date])
  @@map("userdailycount") // <-- mappe le modèle Prisma à la table PostgreSQL en minuscules
}
